@mixin togglicon ($stroke-width:          $stroke-width,
                  $height-multiplier:     $height-multiplier,
                  $stroke-radius:         $stroke-radius,
                  $stroke-color:          $stroke-color,
                  $parent-height:         $parent-height,
                  $transition-duration:   $transition-duration,
                  $transition-ease:       $transition-ease) {

  $stroke-height:   ($stroke-width * $height-multiplier);
  $stroke-square:   rotated-length($stroke-width, $stroke-height);
  $mini-height:     ((($stroke-height - $stroke-width) / 2) + $stroke-width);
  $mini-square:     rotated-length($stroke-width, $mini-height);
  $x-mid-delta:     ($_sqrt-2 * ($stroke-height - $stroke-width) / 4);

  .togglicon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    height: 100%;

    input {
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      margin: 0;
      cursor: pointer;
      opacity: 0;

      & ~ i {
        position: relative;
        max-width: 50%;
        &, &::before, &::after {
          // needed to have height and width actually matter
          width: px($stroke-width);
          height: px($stroke-height);
          border-radius: px($stroke-radius);
          transition: all $transition-duration $transition-ease;
          background-color: $stroke-color;
        }
        &::before, &::after {
          // needed to have height and width actually matter
          position: absolute;
          content: "";
        }
      }

      &:checked {
        @each $dir in $_dirs {
          & ~ i.arrow-#{$dir}-checked   { @include arrow($dir, $stroke-height, $mini-height, $mini-square, $stroke-square); }
          & ~ i.chevron-#{$dir}-checked { @include chevron($dir, $stroke-height, $stroke-width, $x-mid-delta); }
        }
        & ~ i.plus-checked      { @include plus($stroke-height); }
        & ~ i.minus-checked     { @include minus($stroke-height); }
        & ~ i.close-checked     { @include close($stroke-height); }
        & ~ i.asterisk-checked  { @include asterisk($stroke-height); }
        & ~ i.check-checked     { @include check($stroke-height, $mini-height, $stroke-width, $x-mid-delta); }
        & ~ i.bars-checked      { @include bars($stroke-height, $stroke-width); }
      }

      @each $dir in $_dirs {
        & ~ i.arrow-#{$dir}   { @include arrow($dir, $stroke-height, $mini-height, $mini-square, $stroke-square); }
        & ~ i.chevron-#{$dir} { @include chevron($dir, $stroke-height, $stroke-width, $x-mid-delta); }
      }
      & ~ i.plus      { @include plus($stroke-height); }
      & ~ i.minus     { @include minus($stroke-height); }
      & ~ i.close     { @include close($stroke-height); }
      & ~ i.asterisk  { @include asterisk($stroke-height); }
      & ~ i.check     { @include check($stroke-height, $mini-height, $stroke-width, $x-mid-delta); }
      & ~ i.bars      { @include bars($stroke-height, $stroke-width); }

      @content;
    }
  }
}
